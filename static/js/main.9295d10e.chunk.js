(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,o){e.exports=o(18)},16:function(e,t,o){},17:function(e,t,o){},18:function(e,t,o){"use strict";o.r(t);var n=o(0),l=o.n(n),a=o(3),d=o.n(a),c=(o(16),o(17),o(1)),i=o(8),s=o(4),r=o(5),u=o(7),m=o(6),f=o(9),p=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).loadState=function(){var t=JSON.parse(localStorage.getItem("state"));e.setState(Object(i.a)({},t))},e.saveState=function(){var t=JSON.stringify(e.state);localStorage.setItem("state",t)},e.componentDidMount=function(){e.loadState()},e.componentWillUpdate=function(){e.saveState()},e.componentWillUnmount=function(){e.saveState()},e.areAllCompleted=function(){var t=!1;e.state.filteredTodos[0]&&(t=e.state.filteredTodos.every(function(e){return!0===e.completed})),e.setState({toggleAll:t})},e.handleInputChange=function(t){var o=t.target.value.replace(/[^\w\u0410-\u042f\u0430-\u044f\u0401\u0451 ,.?!@&*()$"":;><]/g,"");e.setState({inputValue:o})},e.handleCheckboxChange=function(t){e.setState(function(e){return{filteredTodos:e.filteredTodos.map(function(e){return e.completed=e.id===t?!e.completed:e.completed,e}),todos:e.todos.map(function(e){return e.completed=e.id===t?!e.completed:e.completed,e})}},function(){e.handleFilter(e.state.showCompleted,e.state.showActive)})},e.handleAddTodo=function(t){e.setState(function(e){return{todos:[].concat(Object(c.a)(e.todos),[{id:e.lastId+1,title:t,completed:!1}]),filteredTodos:[].concat(Object(c.a)(e.filteredTodos),[{id:e.lastId+1,title:t,completed:!1}]),lastId:e.lastId+1,inputValue:""}},function(){e.handleFilter(e.state.showCompleted,e.state.showActive)})},e.handleFilter=function(t,o){var n=JSON.parse(JSON.stringify(e.state.todos));e.setState({filteredTodos:n.filter(function(e){return t&&!0===e.completed||o&&!1===e.completed}),showActive:o,showCompleted:t},function(){e.areAllCompleted()})},e.handleDelCompl=function(){e.setState(function(e){return{todos:e.todos.filter(function(e){return!e.completed}),filteredTodos:e.filteredTodos.filter(function(e){return!e.completed})}})},e.handleDelTodo=function(t){e.setState(function(e){return{todos:e.todos.filter(function(e){return e.id!==t}),filteredTodos:e.filteredTodos.filter(function(e){return e.id!==t})}},function(){e.areAllCompleted()})},e.handleTodoChange=function(t){var o=t.target.value.replace(/[^\w\u0410-\u042f\u0430-\u044f\u0401\u0451 ,.?!@&*()$"":;><]/g,"");e.setState({todoValue:o})},e.handleTodoSave=function(t,o){e.setState(function(e){return{todos:e.todos.map(function(e){return e.id===t&&(e.title=o),e}),filteredTodos:e.filteredTodos.map(function(e){return e.id===t&&(e.title=o),e}),editTodoId:0}})},e.toggleAllCompl=function(){e.setState(function(e){return{todos:e.todos.map(function(t){return t.completed=!e.toggleAll,t}),filteredTodos:e.filteredTodos.map(function(t){return t.completed=!e.toggleAll,t}),toggleAll:!e.toggleAll}},function(){e.handleFilter(e.state.showCompleted,e.state.showActive)})},e.state={todos:[],filteredTodos:[],inputValue:"",lastId:0,editTodoId:0,todoValue:"",toggleAll:!1,showActive:1,showCompleted:1},e}return Object(f.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("section",{className:"todoapp"},l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"todos"),l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.handleAddTodo(e.state.inputValue)}},l.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",value:this.state.inputValue,onChange:function(t){return e.handleInputChange(t)}}))),l.a.createElement("section",{className:"main",style:{display:"block"}},l.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:this.state.toggleAll,onChange:function(){return e.toggleAllCompl()}}),l.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),l.a.createElement("ul",{className:"todo-list"},this.state.filteredTodos.map(function(t){return l.a.createElement("li",{className:t.completed?"completed":"",key:t.id},l.a.createElement("div",{className:"view"},l.a.createElement("input",{type:"checkbox",className:"toggle",id:t.id,checked:t.completed,onChange:function(){return e.handleCheckboxChange(t.id)}}),e.state.editTodoId===t.id?l.a.createElement("form",{onSubmit:function(o){o.preventDefault(),e.handleTodoSave(t.id,e.state.todoValue)}},l.a.createElement("input",{className:"new-todo",style:{border:"1px solid grey"},value:e.state.todoValue,onChange:function(t){return e.handleTodoChange(t)},autoFocus:!0,onBlur:function(o){o.preventDefault(),e.handleTodoSave(t.id,e.state.todoValue)}})):l.a.createElement("label",{onDoubleClick:function(){return e.setState({editTodoId:t.id,todoValue:t.title})}},t.title),l.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return e.handleDelTodo(t.id)}})))}))),l.a.createElement("footer",{className:"footer",style:{display:"block"}},l.a.createElement("span",{className:"todo-count"},this.state.todos.filter(function(e){return!1===e.completed}).length," items left"),l.a.createElement("ul",{className:"filters"},l.a.createElement("li",null,l.a.createElement("a",{href:"#/",className:this.state.showCompleted&&this.state.showActive?"selected":"",onClick:function(){return e.handleFilter(1,1)}},"All")),l.a.createElement("li",null,l.a.createElement("a",{href:"#/active",className:!this.state.showCompleted&&this.state.showActive?"selected":"",onClick:function(){return e.handleFilter(0,1)}},"Active")),l.a.createElement("li",null,l.a.createElement("a",{href:"#/completed",className:this.state.showCompleted&&!this.state.showActive?"selected":"",onClick:function(){return e.handleFilter(1,0)}},"Completed"))),l.a.createElement("button",{type:"button",className:"clear-completed",style:this.state.filteredTodos.some(function(e){return e.completed})?{display:"block"}:{display:"none"},onClick:function(){return e.handleDelCompl()}},"Clear completed")))}}]),t}(l.a.Component);d.a.render(l.a.createElement(p,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.9295d10e.chunk.js.map